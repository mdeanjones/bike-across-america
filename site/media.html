---
layout: default
title: Media - Biking Across America
---

{% include navigation-links.html %}

<div class="container">
  <h1 id="image-header" class="display-5 powered-by">Photo Wall</h1>

  <div id="image-gallery" class="gg-container">
    <div class="gg-box">
      {% for image in site.data.gallery-wall.images %}
        <img
            src="https://live.staticflickr.com/{{image.thumb}}"
            loading="lazy"
            height="{{image.txy.h}}"
            width="{{image.txy.w}}"
            alt="{{image.title}}"
            class="fade rounded"
            data-full-res="https://live.staticflickr.com/{{image.image}}"
            data-full-res-h="{{image.ixy.h}}"
            data-full-res-w="{{image.ixy.w}}"
            data-flickr-url="https://www.flickr.com/photos/{{image.owner}}/{{image.id}}"
            onload="this.classList.add('show')"
        />
      {% endfor %}
    </div>
  </div>

  <div id="image-src" class="d-none">
    <table class="table">
      <thead>
        <tr>
          <th>Thumbnail</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

{% include script-tags.html %}

<script>
  const query = new URLSearchParams(document.location.search);

  if (query.has('imgsrc')) {
    document.querySelector('#image-gallery .gg-box').classList.add('d-none');

    const table = document.querySelector('#image-src');
    const tbody = table.querySelector('tbody');

    table.classList.remove('d-none');

    document.querySelectorAll('#image-gallery img').forEach((img) => {
      const row = document.createElement('tr');

      row.innerHTML = `
        <td><img src="${ img.src }" class="img-fluid" /></td>
        <td
          class="align-middle user-select-all"
          onclick="javascript: copyToClipboard(this)"
        >${ img.getAttribute('data-full-res') }</td>
      `;

      tbody.append(row);
    });
  }
  else {
    require(['lib/lightbox'], ({ default: Lightbox }) => {
      new Lightbox('.gg-container');
    });
  }

  function copyToClipboard(t) {
    navigator.clipboard.writeText(t.innerText).then(() => {
      alert("Copied to clipboard");
    });
  }
</script>
